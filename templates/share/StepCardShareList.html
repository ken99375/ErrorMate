    {% extends "base.html" %}
    
    {% block title %}„Çπ„ÉÜ„ÉÉ„Éó„Ç´„Éº„ÉâÂÖ±Êúâ‰∏ÄË¶ß - ErrorMate{% endblock %}
    
    {% block extra_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/share/stepcardshare.css') }}">
    <style>
        .pagination { display: flex; list-style: none; padding: 0; justify-content: center; gap: 5px; margin-top: 20px;}
        .page-link { padding: 8px 12px; border: 1px solid #ddd; color: #333; text-decoration: none; border-radius: 4px; }
        .page-item.active .page-link { background-color: #007bff; color: white; border-color: #007bff; }
        .page-item.disabled .page-link { color: #ccc; pointer-events: none; }
    </style>
    {% endblock %}
    
    {% block content %}
    
    <!-- „Çø„Ç∞Ê§úÁ¥¢„Éï„Ç©„Éº„É† -->
    <div class="d-flex align-items-center mb-4" style="justify-content:flex-start;">
        <form class="d-flex" method="get" action="{{ url_for('share.share_step_card_list') }}">
            <input
                type="text"
                id="tagInput"
                name="tag"
                class="form-control me-2"
                placeholder="„Çø„Ç∞Ê§úÁ¥¢Ê¨ÑÔºàË§áÊï∞„ÅØ„Ç´„É≥„Éû or „Çπ„Éö„Éº„ÇπÂå∫Âàá„ÇäÔºâ"
                style="max-width:400px;font-size:1.2rem;"
                value="{{ keyword|e }}"
            >
            <button id="searchBtn" type="submit" class="btn btn-outline-primary" style="font-size:1.1rem;">üîç</button>
        </form>
    </div>
    
    <!-- Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„ÉâË°®Á§∫ -->
    {% if keyword %}
    <div class="mb-3">
        <h5>Ê§úÁ¥¢„Ç≠„Éº„ÉØ„Éº„Éâ: „Äå{{ keyword|e }}„Äç</h5>
    </div>
    {% endif %}
    
    <!-- „Ç´„Éº„Éâ‰∏ÄË¶ß -->
    {% if matches %}
    <div class="row">
    
        {% for card in matches %}
        <div class="col-md-4 mb-4">
            <div class="help-card p-3">
                <!-- „Çø„Ç§„Éà„É´Ôºà2Ë°å„Åæ„Åß„ÅßÁúÅÁï•Ôºâ -->
                <h5 class="card-title text-center">{{ card.title }}</h5>

                <!-- Êú¨Êñá„Ç®„É™„Ç¢ -->
                <div class="card-body">
                    <div class="info-label">„Ç®„É©„Éº„Ç≥„Éº„Éâ:</div>
                    <pre class="code-box">{{ card.error_code }}</pre>
    
                    <div class="info-label">„Ç®„É©„Éº„É°„ÉÉ„Çª„Éº„Ç∏:</div>
                    <div class="text-box">{{ card.error_message }}</div>
                </div>

                <!-- „Éï„ÉÉ„ÇøÔºà„É¶„Éº„Ç∂„Éª„Çø„Ç∞„Éª„Éú„Çø„É≥Ôºâ -->
                <div class="card-footer">
                    <div class="meta">
                        {{ card.author.user_name }}
                        {% if card.tags %}
                        {% for t in card.tags %} #{{ t.tag_name }}{% endfor %}
                        {% endif %}
                    </div>
    
                    <div class="actions">
                      <button class="like-btn" 
                          data-card="{{ card.card_id }}" 
                          data-auth="{{ 1 if logged_in else 0 }}" 
                          data-login="{{ login_url }}"
                          aria-pressed="{{ 'true' if card.card_id in liked_ids else 'false' }}"
                          >
                        <span class="heart">{{ '‚ô•' if card.card_id in liked_ids else '‚ô°' }}</span>
                        <span class="like-count">{{ like_counts.get(card.card_id, 0) }}</span>
                      </button>
                      <a href="{{ url_for('share.share_card_detail', card_id=card.card_id) }}" class="answer-link">Ë©≥Á¥∞</a>
                    </div>
                </div>
            </div>
        </div>

        {% endfor %}
    
    </div>
    
    {% if pagination and pagination.pages > 1 %}
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
    
        <li class="page-item {% if not pagination.has_prev %}disabled{% endif %}">
          <a class="page-link"
             href="{{ url_for('share.share_step_card_list', page=pagination.prev_num, tag=keyword) }}">Ââç„Å∏</a>
        </li>
    
        {% for page_num in pagination.iter_pages(left_edge=1, right_edge=1, left_current=2, right_current=2) %}
          {% if page_num %}
            <li class="page-item {% if page_num == pagination.page %}active{% endif %}">
              <a class="page-link"
                 href="{{ url_for('share.share_step_card_list', page=page_num, tag=keyword) }}">{{ page_num }}</a>
            </li>
          {% else %}
            <li class="page-item disabled"><span class="page-link">...</span></li>
          {% endif %}
        {% endfor %}
    
        <li class="page-item {% if not pagination.has_next %}disabled{% endif %}">
          <a class="page-link"
             href="{{ url_for('share.share_step_card_list', page=pagination.next_num, tag=keyword) }}">Ê¨°„Å∏</a>
        </li>
    
      </ul>
    </nav>
    {% endif %}

    
    
    {% else %}
    <div class="alert alert-warning">Ë©≤ÂΩì„Åô„Çã„Ç´„Éº„Éâ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</div>
    {% endif %}
    
    
    <script src="{{ url_for('static', filename='js/share/step_cards.js') }}"></script>
    
    {% endblock %}
    
    