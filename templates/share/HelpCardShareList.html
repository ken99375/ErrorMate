{% extends "base.html" %}

{% block title %}ãƒ˜ãƒ«ãƒ—ã‚«ãƒ¼ãƒ‰å…±æœ‰ä¸€è¦§ - ErrorMate{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/share/helpcardshare.css') }}">
{% endblock %}

{% block content %}

<!-- ğŸ” ã‚¿ã‚°æ¤œç´¢ãƒ•ã‚©ãƒ¼ãƒ  -->
<div class="d-flex align-items-center mb-4" style="justify-content:flex-start;">
    <form class="d-flex" method="get" action="{{ url_for('share.share_help_card_list') }}">
        <input
            type="text"
            id="tagInput"
            name="tag"
            class="form-control me-2"
            placeholder="ã‚¿ã‚°æ¤œç´¢æ¬„ï¼ˆè¤‡æ•°ã¯ã‚«ãƒ³ãƒ or ã‚¹ãƒšãƒ¼ã‚¹åŒºåˆ‡ã‚Šï¼‰"
            style="max-width:400px;font-size:1.2rem;"
            value="{{ keyword|e }}"
        >
        <button id="searchBtn" type="submit" class="btn btn-outline-primary" style="font-size:1.1rem;">ğŸ”</button>
    </form>
</div>

<!-- æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¡¨ç¤º -->
{% if keyword %}
<div class="mb-3">
    <h5>æ¤œç´¢ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: ã€Œ{{ keyword|e }}ã€</h5>
</div>
{% endif %}

<!-- ã‚«ãƒ¼ãƒ‰ä¸€è¦§ -->
{% if matches %}
<div class="row">

    {% for card in matches %}
    <div class="col-md-4 mb-4">
        <div class="help-card p-3">

            <!-- ã‚¿ã‚¤ãƒˆãƒ« -->
            <h5 class="text-center">{{ card.title }}</h5>

            <!-- ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰/ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ -->
            <div class="mt-3 mb-2">
                <div class="info-box">ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰: {{ card.error_code }}</div>
                <div class="info-box">ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:</div>
                <div class="info-box">{{ card.error_message }}</div>
            </div>

            <!-- ãƒ¦ãƒ¼ã‚¶å + ã‚¿ã‚° -->
            <div class="text-center mt-2">
                {{ card.author.user_name }}ã€€
                {% if card.tags %}
                    {% for t in card.tags %}
                        #{{ t.tag_name }}
                    {% endfor %}
                {% endif %}
            </div>

            <!-- â¤ï¸ã„ã„ã­ + å›ç­”ãƒªãƒ³ã‚¯ -->
            <div class="d-flex justify-content-center align-items-center mt-3">
                <button class="like-btn me-3">â™¡</button>

                <a href="{{ url_for('step_card.detail_card', card_id=card.card_id) }}"
                   class="answer-link">
                   å›ç­”ã™ã‚‹
                </a>
            </div>

        </div>
    </div>
    {% endfor %}

</div>

{% else %}
<div class="alert alert-warning">è©²å½“ã™ã‚‹ã‚«ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</div>
{% endif %}

{% endblock %}
